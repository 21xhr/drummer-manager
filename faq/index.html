<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drummer Manager Game - FAQ & Links</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for social media icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --background-color: #0c0c0c;
            --primary-neon: #ffeb00;
            --text-color: #f0f0f0;
        }
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            /* Re-added min-height to ensure the body is at least as tall as the viewport */
            min-height: 100vh;
            padding: 2rem;
            animation: fadeIn 1.5s ease-in-out;
        }
        .dm-sans {
            font-family: 'DM Sans', sans-serif;
        }
        .roboto {
            font-family: 'Roboto', sans-serif;
        }
        .container {
            max-width: 960px;
            width: 100%;
        }
        .neon-text {
            color: var(--primary-neon);
            text-shadow: 
                0 0 5px var(--primary-neon),
                0 0 10px var(--primary-neon),
                0 0 20px var(--primary-neon);
            transition: color 0.3s ease, text-shadow 0.3s ease;
        }
        .tab-button {
            position: relative;
            color: #ccc;
            transition: color 0.3s ease;
        }
        .tab-button.active {
            color: var(--primary-neon);
            text-shadow: 0 0 5px var(--primary-neon);
        }
        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--primary-neon);
            box-shadow: 0 0 5px var(--primary-neon), 0 0 10px var(--primary-neon);
        }
        .interactive-question-container {
            max-width: 630px;
            background-color: #1a1a1a;
            border: 1px solid var(--primary-neon);
            box-shadow: 0 0 7px var(--primary-neon);
            animation: neon-pulse-border 3s ease-in-out infinite alternate;
        }
        .interactive-question {
            color: var(--primary-neon);
        }
        .interactive-button {
            border: 1px solid var(--primary-neon);
            background-color: #333333;
            color: var(--primary-neon);
            transition: all 0.2s ease-in-out;
            box-shadow: 0 0 5px rgba(255, 235, 0, 0.1);
        }
        .interactive-button:hover {
            background-color: var(--primary-neon);
            color: var(--background-color);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 235, 0, 0.6);
        }
        .social-link {
            color: var(--text-color);
            transition: color 0.3s ease, text-shadow 0.3s ease, transform 0.3s ease;
        }
        .social-link:hover {
            color: var(--primary-neon);
            text-shadow: 0 0 5px var(--primary-neon);
            transform: scale(1.1);
        }
        .under-construction-box {
            background-color: #1a1a1a;
            border: 1px solid var(--primary-neon);
            box-shadow: 0 0 7px var(--primary-neon);
            animation: neon-pulse-border 3s ease-in-out infinite alternate;
        }
        .arrow-button {
            border: 1px solid var(--primary-neon);
            background-color: #333333;
            color: var(--primary-neon);
            transition: all 0.2s ease-in-out;
            box-shadow: 0 0 5px rgba(255, 235, 0, 0.1);
        }
        .arrow-button:hover {
            background-color: var(--primary-neon);
            color: var(--background-color);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 235, 0, 0.6);
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes neon-pulse-border {
            0%, 100% {
                box-shadow: 0 0 7px var(--primary-neon), 0 0 3px var(--primary-neon);
                border-color: var(--primary-neon);
            }
            50% {
                box-shadow: 0 0 12px var(--primary-neon), 0 0 5px var(--primary-neon);
                border-color: var(--primary-neon);
            }
        }
        .custom-list {
            list-style: none;
            padding-left: 1rem;
        }
        .custom-list li {
            position: relative;
            padding-left: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .custom-list li::before {
            content: "\25a0";
            position: absolute;
            left: 0;
            top: 0;
            color: var(--primary-neon);
            text-shadow: 0 0 3px var(--primary-neon), 0 0 5px var(--primary-neon);
        }
    </style>
</head>
<body class="p-3 sm:p-8">
    <!-- Main Title -->
    <h1 class="dm-sans text-4xl sm:text-5xl font-bold text-center mb-10 tracking-wide neon-text mx-auto w-full max-w-lg">
        HOW TO PLAY
    </h1>

    <!-- Tabbed Navigation -->
    <div class="flex justify-center space-x-4 sm:space-x-8 mb-8 border-b border-neutral-700 mx-auto w-full max-w-lg">
        <button class="tab-button dm-sans text-lg sm:text-xl font-bold p-2 active" data-tab="faq">FAQ</button>
        <button class="tab-button dm-sans text-lg sm:text-xl font-bold p-2" data-tab="missions">MISSIONS</button>
    </div>
    
    <!-- This new flex container now centers horizontally but allows for vertical growth -->
    <div class="flex flex-col items-center flex-grow">
        <!-- Tab Content -->
        <div id="faq" class="tab-content">
            <div class="space-y-6">
                <!-- Interactive FAQ Container -->
                <div id="interactive-faq" class="interactive-question-container rounded-lg p-6 transition-all duration-300 mx-auto">
                    <!-- Page Indicator -->
                    <div id="page-indicator" class="text-xs text-gray-400 text-center mb-4 hidden"></div>

                    <div id="question-container" class="mb-4">
                        <!-- Questions will be dynamically added here -->
                    </div>
                    <div id="answer-container" class="mb-6 hidden">
                        <!-- Answers will be dynamically added here -->
                    </div>
                    <div id="buttons-container" class="flex flex-wrap gap-4 hidden">
                        <!-- Buttons will be dynamically added here -->
                    </div>
                    <div class="flex justify-between mt-4">
                        <button id="prev-btn" class="arrow-button rounded-full px-4 py-2 text-sm sm:text-base font-semibold" style="display: none;">
                            <i class="fa-solid fa-arrow-left"></i>
                        </button>
                    </div>
                    <!-- Final Call to Action -->
                    <div id="cta-container" class="hidden text-center mt-8">
                        <h3 class="dm-sans text-base sm:text-lg font-bold text-white mb-4">Ready to Get Involved?</h3>
                        <p class="roboto text-gray-400 mb-6 text-sm sm:text-base">Join our community or support the stream to help shape the future of Drummer Manager!</p>
                        <div class="flex justify-center space-x-6 text-2xl sm:text-3xl">
                             <a href="https://discord.gg/av9bpn6Zhp" target="_blank" aria-label="Join Discord" class="social-link">
                                <i class="fab fa-discord"></i>
                             </a>
                            <a href="https://21xhr.github.io/drummer-manager/donation" target="_blank" aria-label="Make a Donation" class="social-link">
                                <i class="fa-solid fa-mug-hot"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="missions" class="tab-content hidden">
            <div class="under-construction-box rounded-lg p-8 text-center">
                <h3 class="dm-sans text-lg sm:text-xl font-bold text-primary-neon mb-4 tracking-wider">
                    THE FUTURE IS UNDER CONSTRUCTION
                </h3>
                <p class="roboto text-neutral-300 mb-6 text-xs sm:text-sm">
                    We're building the new suggestion system and community missions!
                </p>
                <a href="https://discord.gg/av9bpn6Zhp" target="_blank" class="interactive-button rounded-full px-6 py-3 text-sm sm:text-base font-semibold inline-block">
                    Join Discord Project on GitHub
                </a>
            </div>
        </div>
    </div>
    
    <!-- Social Links Section (Always Visible at the Bottom) -->
    <div class="fixed bottom-0 left-0 right-0 py-4 z-50 text-center bg-[#0c0c0c]/90 backdrop-blur-sm flex-shrink-0">
        <h2 class="dm-sans text-xs md:text-sm text-white font-bold mb-2">Follow 21 Everywhere</h2>
        <div class="flex justify-center space-x-6 text-xl md:text-2xl">
            <!-- Discord Icon -->
            <a href="https://discord.gg/av9bpn6Zhp" target="_blank" aria-label="Discord" class="social-link">
                <i class="fab fa-discord"></i>
            </a>
            <!-- Facebook Icon -->
            <a href="https://www.facebook.com/21xhr" target="_blank" aria-label="Facebook" class="social-link">
                <i class="fab fa-facebook-f"></i>
            </a>
            <!-- Instagram Icon -->
            <a href="https://www.instagram.com/21xhr_" target="_blank" aria-label="Instagram" class="social-link">
                <i class="fab fa-instagram"></i>
            </a>
            <!-- Twitch Icon -->
            <a href="https://www.twitch.tv/21xhr" target="_blank" aria-label="Twitch" class="social-link">
                <i class="fab fa-twitch"></i>
            </a>
            <!-- X (Twitter) Icon -->
            <a href="https://x.com/21xhr" target="_blank" aria-label="X" class="social-link">
                <i class="fab fa-x-twitter"></i>
            </a>
            <!-- YouTube Icon -->
            <a href="https://www.youtube.com/@21xhr" target="_blank" aria-label="YouTube" class="social-link">
                <i class="fab fa-youtube"></i>
            </a>
            <a href="https://21xhr.github.io/drummer-manager/donation" target="_blank" aria-label="Make a Donation" class="social-link">
                <i class="fa-solid fa-mug-hot"></i>
            </a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tabs = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            const questionContainer = document.getElementById('question-container');
            const answerContainer = document.getElementById('answer-container');
            const buttonsContainer = document.getElementById('buttons-container');
            const ctaContainer = document.getElementById('cta-container');
            const prevBtn = document.getElementById('prev-btn');
            const pageIndicator = document.getElementById('page-indicator');

            let currentFaqIndex = 0;

            const faqs = [
                {
                    id: 'start',
                    question: 'Why is the 21 so important?',
                    answer: 'The "21" is the foundation of our brand. It\'s a commitment to authenticity and an unwavering drive to push boundaries, and a symbol that is a driving force for the community we\'re building.',
                    buttonText: 'Wow 👌',
                    renderAsHTML: false,
                },
                {
                    id: 'next-1',
                    question: 'What are "NUMBERS"?',
                    answer: '"NUMBERS" are your Influence Points. Earn them by engaging with the stream and use them to make real-time decisions that impact the game.',
                    buttonText: 'I want to get NUMBERS!',
                    renderAsHTML: false,
                },
                {
                    id: 'next-2',
                    question: 'How can I get NUMBERS and support the stream?',
                    answer: {
                        intro: 'You earn **NUMBERS** through three primary participative methods:',
                        list: [
                            '**Traditional**: By watching the stream, participating in the chat, collaborating on community goals, and following 21 on all platforms.',
                            '**Financial**: By becoming a member or donating.',
                            '**Creative**: (more details to come).',
                        ]
                    },
                    buttonText: 'Let\'s gooooooooooooooooooooo!',
                    renderAsHTML: true,
                }
            ];
            const totalFaqs = 4;

            const displayFAQ = (index) => {
                if (index < 0) {
                    currentFaqIndex = 0;
                } else if (index >= faqs.length) {
                    // Reached the end, show the CTA
                    questionContainer.classList.add('hidden');
                    answerContainer.classList.add('hidden');
                    buttonsContainer.classList.add('hidden');
                    ctaContainer.classList.remove('hidden');
                    pageIndicator.classList.add('hidden');
                    prevBtn.style.display = 'block'; // Keep the back button visible
                    return;
                } else {
                    currentFaqIndex = index;
                }
                
                const faqItem = faqs[currentFaqIndex];

                // Update page indicator
                pageIndicator.textContent = `${currentFaqIndex + 1} of ${totalFaqs}`;
                pageIndicator.classList.remove('hidden');

                questionContainer.innerHTML = `<h3 class="dm-sans text-base sm:text-lg font-bold interactive-question mb-2">${faqItem.question}</h3>`;
                
                // Clear the answer container
                answerContainer.innerHTML = '';
                
                if (faqItem.renderAsHTML) {
                    // Manually build the HTML for the list
                    const introPara = document.createElement('p');
                    introPara.classList.add('roboto', 'interactive-answer', 'mb-2', 'text-xs', 'sm:text-sm');
                    introPara.innerHTML = faqItem.answer.intro.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                    answerContainer.appendChild(introPara);

                    const list = document.createElement('ul');
                    list.classList.add('custom-list', 'roboto', 'space-y-2');
                    faqItem.answer.list.forEach(itemText => {
                        const li = document.createElement('li');
                        li.classList.add('interactive-answer', 'text-xs', 'sm:text-sm');
                        li.innerHTML = itemText.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                        list.appendChild(li);
                    });
                    answerContainer.appendChild(list);
                } else {
                    // Display as a standard paragraph
                    const para = document.createElement('p');
                    para.classList.add('roboto', 'interactive-answer', 'text-xs', 'sm:text-sm');
                    para.innerHTML = faqItem.answer.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                    answerContainer.appendChild(para);
                }
                
                answerContainer.classList.remove('hidden');
                buttonsContainer.classList.remove('hidden');
                ctaContainer.classList.add('hidden');
                questionContainer.classList.remove('hidden');

                buttonsContainer.innerHTML = '';
                const button = document.createElement('button');
                button.textContent = faqItem.buttonText;
                button.className = 'interactive-button rounded-full px-4 py-2 text-sm sm:text-base font-semibold w-full whitespace-normal';
                button.onclick = () => displayFAQ(currentFaqIndex + 1);
                buttonsContainer.appendChild(button);
                
                if (currentFaqIndex > 0) {
                    prevBtn.style.display = 'block';
                } else {
                    prevBtn.style.display = 'none';
                }
            };
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const target = tab.dataset.tab;
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(content => content.classList.add('hidden'));
                    tab.classList.add('active');
                    document.getElementById(target).classList.remove('hidden');
                });
            });

            prevBtn.addEventListener('click', () => {
                // If we're on the CTA page, we need to go back to the last FAQ item
                if (ctaContainer.classList.contains('hidden')) {
                    displayFAQ(currentFaqIndex - 1);
                } else {
                    displayFAQ(faqs.length - 1);
                }
            });

            displayFAQ(0);
        });
    </script>
</body>
</html>
